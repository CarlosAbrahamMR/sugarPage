/*!
 * jQuery Breakpoints v0.0.5
 * https://github.com/XhmikosR/jquery-breakpoints
 */
(function($) {
    var breakpoints = {};

    $.fn.setBreakpoints = function(settings) {
        var defaults = {
            distinct: true,
            breakpoints: []
        };
        var options = $.extend(defaults, settings);

        var lastSize = 0;

        function getSize(width) {
            var size = 0;
            for (var i = 0; i < options.breakpoints.length; i++) {
                if (width >= options.breakpoints[i]) {
                    size = options.breakpoints[i];
                }
            }
            return size;
        }

        $(window).on('resize', function() {
            var width = $(this).width();
            var newSize = getSize(width);

            if (options.distinct && newSize !== lastSize) {
                $(window).trigger('exitBreakpoint' + lastSize);
                $(window).trigger('enterBreakpoint' + newSize);
                lastSize = newSize;
            } else if (!options.distinct) {
                $(window).trigger('enterBreakpoint' + newSize);
            }
        });

        return this;
    };
})(jQuery);
